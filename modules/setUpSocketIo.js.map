{"version":3,"sources":["../src/server/modules/setUpSocketIo.js"],"names":["setUpSocketIo","server","io","on","socket","console","log"],"mappings":";;;;;;AAAA;;;;;;AACA;AACA;;AAEA;;AAEA;;AAEA,IAAMA,gBAAgB,SAAhBA,aAAgB,CAACC,MAAD,EAAY;AAChC,MAAMC,KAAK,sBAAOD,MAAP,CAAX;;AAEAC,KAAGC,EAAH,CAAM,YAAN,EAAoB,UAACC,MAAD,EAAY;AAC9BC,YAAQC,GAAR,CAAY,SAAZ;;AAEAF,WAAOD,EAAP,CAAU,YAAV,EAAwB,YAAM;AAC5BE,cAAQC,GAAR,CAAY,WAAZ;AACD,KAFD;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,GAtBD;AAuBA;AACD,CA3BD;kBA4BeN,a","file":"setUpSocketIo.js","sourcesContent":["import Server from 'socket.io';\n// エラー回避のためコメントアウトしています。\n// import NfcpyId from 'node-nfcpy-id';\n\n// const Sound = require('aplay');\n\n// const nfc = new NfcpyId().start();\n\nconst setUpSocketIo = (server) => {\n  const io = Server(server);\n\n  io.on('connection', (socket) => {\n    console.log('接続しました。');\n\n    socket.on('disconnect', () => {\n      console.log('接続が切れました。');\n    });\n\n    // touch scan\n    // nfc.on('touchstart', (card) => {\n    //   console.log(`Card ID: ${card.id}`);\n    //   console.log(`Card Type: ${card.type}`);\n    //   new Sound().play('./assets/music/hoge.mp3'); // assets/musicにあるmp3ファイルを指定します。\n    //   socket.emit('scan', card.id);\n    // });\n    // // touch end\n    // nfc.on('touchend', () => {\n    //   console.log('Card was away.');\n    // });\n    // nfc.on('error', (err) => {\n    //   // standard error output (color is red)\n    //   console.error('\\u001b[31m', err, '\\u001b[0m');\n    // });\n  });\n  // socket.emit('scan', data);\n};\nexport default setUpSocketIo;\n"]}